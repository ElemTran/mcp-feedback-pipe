# MCPåé¦ˆæœåŠ¡å™¨ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### é—®é¢˜è§£å†³æ–¹æ¡ˆ

âœ… **è§£å†³äº†æ‚¨æåˆ°çš„æ‰€æœ‰é—®é¢˜ï¼š**

1. **MCPå·¥å…·äº’æ–¥é—®é¢˜** - ä½¿ç”¨è½»é‡çº§ç«¯å£æŸ¥è¯¢å·¥å…·
2. **æœåŠ¡å™¨çŠ¶æ€æ£€æµ‹å¤±æ•ˆ** - ä½¿ç”¨ç‹¬ç«‹çš„çŠ¶æ€æŸ¥çœ‹å™¨
3. **ç«¯å£ä¿¡æ¯ç¼ºå¤±** - æä¾›å¤šç§ç«¯å£ä¿¡æ¯è·å–æ–¹å¼
4. **MCPèµ„æºæŒä¹…åŒ–** - æ”¯æŒçŠ¶æ€ä¿å­˜ã€æ¢å¤å’Œè·¨ä¼šè¯è®¿é—®
5. **æ ‡å‡†MCP Resources** - ç¬¦åˆMCPåè®®çš„èµ„æºè®¿é—®æ¥å£

## ğŸ”§ å¯ç”¨å·¥å…·

### 1. å¯åŠ¨åé¦ˆæœåŠ¡å™¨
```python
# MCPå·¥å…·
collect_feedback(
    work_summary="æ‚¨çš„ä»»åŠ¡æè¿°",
    timeout_seconds=300,
    suggest=["é€‰é¡¹1", "é€‰é¡¹2", "é€‰é¡¹3"]
)
```

### 2. å¿«é€ŸæŸ¥çœ‹ç«¯å£ä¿¡æ¯ï¼ˆæ¨èï¼‰
```python
# MCPå·¥å…· - è¶…è½»é‡çº§ï¼Œä¸å½±å“ç°æœ‰æœåŠ¡å™¨
list_server_ports()
```

### 3. è¯¦ç»†æœåŠ¡å™¨çŠ¶æ€ï¼ˆèµ„æºæŒä¹…åŒ–æ¨¡å¼ï¼‰
```python
# MCPå·¥å…· - å¢å¼ºç‰ˆçŠ¶æ€æŸ¥çœ‹ï¼Œæ”¯æŒæŒä¹…åŒ–
get_server_status()
```

### 4. MCPèµ„æºæŒä¹…åŒ–ç®¡ç†
```python
# ä¿å­˜å½“å‰çŠ¶æ€åˆ°æŒä¹…åŒ–æ–‡ä»¶
manage_mcp_resource_persistence("save")

# ä»æŒä¹…åŒ–æ–‡ä»¶åŠ è½½å¹¶éªŒè¯çŠ¶æ€
manage_mcp_resource_persistence("load")

# æ¸…ç†æ— æ•ˆçš„æŒä¹…åŒ–æ•°æ®
manage_mcp_resource_persistence("clean")

# åˆ›å»ºçŠ¶æ€å¤‡ä»½
manage_mcp_resource_persistence("backup", "my_backup.json")

# ä»å¤‡ä»½æ¢å¤
manage_mcp_resource_persistence("restore", "my_backup.json")

# å¯¼å‡ºé…ç½®ä¸ºå¯åˆ†äº«æ ¼å¼
manage_mcp_resource_persistence("export", "shared_config.json")

# å¯¼å…¥å¤–éƒ¨é…ç½®
manage_mcp_resource_persistence("import", "shared_config.json")
```

### 5. ç‹¬ç«‹å‘½ä»¤è¡Œå·¥å…·
```bash
# åœ¨ç»ˆç«¯ä¸­ç›´æ¥è¿è¡Œï¼Œä¸ä¼šå½±å“ä»»ä½•MCPæœåŠ¡å™¨
python3 mcp_server_status.py
```

## ğŸ”— MCPæ ‡å‡†èµ„æºè®¿é—®ï¼ˆæ¨èï¼‰

### ğŸ“Š æ ¸å¿ƒèµ„æº

#### 1. æœåŠ¡å™¨çŠ¶æ€èµ„æº
```
URI: mcp://feedback-server/status
```
- **æè¿°**: å®Œæ•´çš„æœåŠ¡å™¨æ± çŠ¶æ€ä¿¡æ¯
- **ç‰¹æ€§**: æŒä¹…åŒ–ã€è·¨ä¼šè¯ã€å¤šå®¢æˆ·ç«¯å…±äº«
- **å†…å®¹**: JSONæ ¼å¼ï¼ŒåŒ…å«æœåŠ¡å™¨åˆ—è¡¨ã€ç«¯å£ä¿¡æ¯ã€SSHå‘½ä»¤ç­‰
- **ä¼˜åŠ¿**: ç¬¦åˆMCPæ ‡å‡†ï¼Œå¯è¢«ä»»ä½•MCPå®¢æˆ·ç«¯è®¿é—®

#### 2. æ´»è·ƒç«¯å£èµ„æº
```
URI: mcp://feedback-server/ports
```
- **æè¿°**: å½“å‰è¿è¡Œçš„ç«¯å£ä¿¡æ¯
- **ç‰¹æ€§**: è½»é‡çº§ã€å®æ—¶æ›´æ–°
- **å†…å®¹**: ç«¯å£åˆ—è¡¨ã€è®¿é—®URLã€SSHè½¬å‘å‘½ä»¤
- **ç”¨é€”**: å¿«é€Ÿè·å–å¯ç”¨æœåŠ¡å™¨

#### 3. åŠ¨æ€é…ç½®èµ„æºï¼ˆæ¨¡æ¿ï¼‰
```
URI: mcp://feedback-server/config/{config_type}
```
- **å‚æ•°**: `config_type` å¯ä»¥æ˜¯ `server`ã€`ssh`ã€`backup`
- **æè¿°**: æ ¹æ®ç±»å‹æä¾›ä¸åŒçš„é…ç½®ä¿¡æ¯
- **ç¤ºä¾‹**:
  - `mcp://feedback-server/config/server` - æœåŠ¡å™¨é…ç½®
  - `mcp://feedback-server/config/ssh` - SSHè½¬å‘é…ç½®  
  - `mcp://feedback-server/config/backup` - å¤‡ä»½æ–‡ä»¶ä¿¡æ¯

### ğŸ¯ MCP Resourcesä¼˜åŠ¿

#### vs ä¼ ç»Ÿå·¥å…·è°ƒç”¨
| ç‰¹æ€§ | MCP Resources | ä¼ ç»ŸTools |
|------|---------------|-----------|
| **è®¿é—®æ–¹å¼** | URIæ ‡å‡†åŒ–è®¿é—® | å‡½æ•°è°ƒç”¨ |
| **ç¼“å­˜æ”¯æŒ** | å®¢æˆ·ç«¯å¯ç¼“å­˜ | æ¯æ¬¡é‡æ–°æ‰§è¡Œ |
| **è·¨ä¼šè¯** | å¤©ç„¶æ”¯æŒ | éœ€è¦æŒä¹…åŒ–æœºåˆ¶ |
| **å¤šå®¢æˆ·ç«¯** | åŸç”Ÿå…±äº« | éœ€è¦é¢å¤–åŒæ­¥ |
| **é”™è¯¯å¤„ç†** | ç»Ÿä¸€æ ¼å¼ | å„è‡ªå®ç° |
| **æ€§èƒ½** | å¯ä¼˜åŒ–ç¼“å­˜ | å®æ—¶è®¡ç®— |

#### å®é™…ä½¿ç”¨åœºæ™¯

1. **å¼€å‘è°ƒè¯•**
   ```python
   # LLMå¯ä»¥ç›´æ¥è®¿é—®èµ„æºï¼Œæ— éœ€è°ƒç”¨å·¥å…·
   "è¯·è®¿é—® mcp://feedback-server/status è·å–å½“å‰æœåŠ¡å™¨çŠ¶æ€"
   ```

2. **è‡ªåŠ¨åŒ–è„šæœ¬**
   ```python
   # å…¶ä»–MCPå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥è¯»å–èµ„æº
   import mcp_client
   status = mcp_client.get_resource("mcp://feedback-server/status")
   ```

3. **ç›‘æ§é¢æ¿**
   ```python
   # å®šæœŸè½®è¯¢èµ„æºè·å–çŠ¶æ€
   ports = mcp_client.get_resource("mcp://feedback-server/ports")
   ```

## ğŸ“‹ å…¸å‹ä½¿ç”¨æµç¨‹

### åœºæ™¯1ï¼šå•ä¸ªåé¦ˆä»»åŠ¡
1. è¿è¡Œ `collect_feedback` å¯åŠ¨æœåŠ¡å™¨
2. æ³¨æ„è¾“å‡ºä¸­çš„ç«¯å£ä¿¡æ¯
3. åœ¨æœ¬åœ°ç»ˆç«¯è®¾ç½®SSHè½¬å‘
4. åœ¨æµè§ˆå™¨ä¸­è®¿é—®åé¦ˆç•Œé¢

### åœºæ™¯2ï¼šå¤šä¸ªå¹¶å‘ä»»åŠ¡  
1. ä½¿ç”¨ `create_server_pool` åˆ›å»ºå¤šä¸ªæœåŠ¡å™¨
2. ä½¿ç”¨ `list_server_ports` å¿«é€Ÿè·å–æ‰€æœ‰ç«¯å£
3. è®¾ç½®å¤šä¸ªSSHè½¬å‘
4. åœ¨ä¸åŒæµè§ˆå™¨æ ‡ç­¾é¡µä¸­åŒæ—¶å·¥ä½œ

### åœºæ™¯3ï¼šæŸ¥çœ‹ç°æœ‰æœåŠ¡å™¨
1. ä½¿ç”¨ `list_server_ports` å¿«é€ŸæŸ¥çœ‹æ´»è·ƒç«¯å£
2. æˆ–è¿è¡Œ `python3 mcp_server_status.py` è·å–è¯¦ç»†ä¿¡æ¯
3. æ ¹æ®è¾“å‡ºè®¾ç½®SSHè½¬å‘

### åœºæ™¯4ï¼šè·¨ä¼šè¯å·¥ä½œï¼ˆæ–°å¢ï¼‰
1. ä½¿ç”¨ `get_server_status` æŸ¥çœ‹æŒä¹…åŒ–çŠ¶æ€
2. å³ä½¿MCPå·¥å…·å¼‚å¸¸ï¼ŒçŠ¶æ€ä¿¡æ¯ä»å¯è®¿é—®
3. ä½¿ç”¨ `manage_mcp_resource_persistence("load")` éªŒè¯æœåŠ¡å™¨
4. é€šè¿‡å¤‡ä»½/æ¢å¤åŠŸèƒ½ä¿æŠ¤é‡è¦é…ç½®

### åœºæ™¯5ï¼šå›¢é˜Ÿåä½œï¼ˆæ–°å¢ï¼‰
1. ä½¿ç”¨ `manage_mcp_resource_persistence("export")` å¯¼å‡ºé…ç½®
2. åˆ†äº«é…ç½®æ–‡ä»¶ç»™å›¢é˜Ÿæˆå‘˜
3. å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ `manage_mcp_resource_persistence("import")` å¯¼å…¥
4. ä½¿ç”¨ `create_server_pool` é‡å»ºç›¸åŒçš„æœåŠ¡å™¨ç¯å¢ƒ

### åœºæ™¯6ï¼šæ ‡å‡†MCP Resourcesè®¿é—®ï¼ˆæ¨èï¼‰
1. **LLMç›´æ¥è®¿é—®**: "è¯·æ£€æŸ¥ mcp://feedback-server/status çš„æœåŠ¡å™¨çŠ¶æ€"
2. **å®¢æˆ·ç«¯è½®è¯¢**: å®šæœŸè®¿é—® `mcp://feedback-server/ports` ç›‘æ§æœåŠ¡å™¨
3. **é…ç½®ç®¡ç†**: è®¿é—® `mcp://feedback-server/config/ssh` è·å–SSHé…ç½®
4. **è·¨å·¥å…·å…±äº«**: å¤šä¸ªMCPå·¥å…·å¯ä»¥è®¿é—®ç›¸åŒçš„èµ„æºURI

## ğŸ”— SSHç«¯å£è½¬å‘è®¾ç½®

### åŸºæœ¬å‘½ä»¤æ ¼å¼
```bash
ssh -L æœ¬åœ°ç«¯å£:127.0.0.1:è¿œç¨‹ç«¯å£ ç”¨æˆ·å@æœåŠ¡å™¨åœ°å€
```

### ç¤ºä¾‹
```bash
# å•ä¸ªæœåŠ¡å™¨
ssh -L 8888:127.0.0.1:8765 yjb@your_server

# å¤šä¸ªæœåŠ¡å™¨ï¼ˆä½¿ç”¨ä¸åŒæœ¬åœ°ç«¯å£ï¼‰
ssh -L 8888:127.0.0.1:8765 yjb@your_server
ssh -L 8889:127.0.0.1:8766 yjb@your_server  
ssh -L 8890:127.0.0.1:8767 yjb@your_server
```

### è®¿é—®åœ°å€
- ç¬¬ä¸€ä¸ªæœåŠ¡å™¨: http://127.0.0.1:8888/
- ç¬¬äºŒä¸ªæœåŠ¡å™¨: http://127.0.0.1:8889/
- ç¬¬ä¸‰ä¸ªæœåŠ¡å™¨: http://127.0.0.1:8890/

## ğŸ’¾ MCPèµ„æºæŒä¹…åŒ–ç‰¹æ€§

### ğŸ”„ è‡ªåŠ¨æŒä¹…åŒ–
- æœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨ä¿å­˜çŠ¶æ€
- æœåŠ¡å™¨åœæ­¢æ—¶è‡ªåŠ¨æ›´æ–°çŠ¶æ€
- çŠ¶æ€æ–‡ä»¶ï¼š`.mcp_server_pool_status.json`

### ğŸ“Š æŒä¹…åŒ–æ•°æ®åŒ…å«
- æœåŠ¡å™¨é…ç½®ä¿¡æ¯ï¼ˆsession_idã€work_summaryã€timeoutç­‰ï¼‰
- ç«¯å£åˆ†é…æƒ…å†µ
- æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€
- æ—¶é—´æˆ³å’Œå…ƒæ•°æ®

### ğŸ›¡ï¸ æ•°æ®å¯é æ€§
- æ”¯æŒçŠ¶æ€éªŒè¯ï¼ˆæ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦çœŸæ­£è¿è¡Œï¼‰
- è‡ªåŠ¨æ¸…ç†æ— æ•ˆæ•°æ®
- å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½
- æ•°æ®å¯¼å‡º/å¯¼å…¥åŠŸèƒ½

### ğŸ—ï¸ MCPæ ‡å‡†åŒ–å®ç°

#### èµ„æºç»“æ„è®¾è®¡
```json
{
  "mcp_resource": {
    "uri": "mcp://feedback-server/status",
    "name": "æœåŠ¡å™¨æ± çŠ¶æ€",
    "description": "MCPåé¦ˆæœåŠ¡å™¨æ± çš„å®Œæ•´çŠ¶æ€ä¿¡æ¯",
    "mimeType": "application/json",
    "generated_at": 1749609556.838,
    "generated_at_readable": "2025-06-11 10:39:16"
  },
  "persistence": {
    "enabled": true,
    "last_saved": "2025-06-11 10:39:16",
    "file_path": ".mcp_server_pool_status.json",
    "auto_save": true
  },
  "data_sources": {
    "persistent": {
      "available": true,
      "servers_count": 1,
      "ports": [8765]
    },
    "runtime": {
      "available": true,
      "servers_count": 1,
      "active_count": 1,
      "ports": [8765]
    }
  },
  "servers": [...],
  "ssh_commands": [...],
  "access_urls": [...],
  "statistics": {...}
}
```

#### èµ„æºè®¿é—®æ¨¡å¼
1. **é™æ€èµ„æº**: ç›´æ¥é€šè¿‡URIè®¿é—®ï¼Œå¦‚ `mcp://feedback-server/status`
2. **åŠ¨æ€èµ„æº**: å‚æ•°åŒ–URIï¼Œå¦‚ `mcp://feedback-server/config/{config_type}`
3. **è½»é‡çº§èµ„æº**: å¿«é€Ÿè®¿é—®ï¼Œå¦‚ `mcp://feedback-server/ports`

### ğŸ”§ å®é™…åº”ç”¨åœºæ™¯

#### å¼€å‘è°ƒè¯•
```python
# å¼€å‘æœŸé—´ä¿å­˜å½“å‰é…ç½®
manage_mcp_resource_persistence("save")

# å¼€å‘å®Œæˆåå¯¼å‡ºé…ç½®
manage_mcp_resource_persistence("export", "dev_config.json")

# æˆ–ç›´æ¥è®¿é—®MCPèµ„æº
"è¯·è®¿é—® mcp://feedback-server/config/server æŸ¥çœ‹æœåŠ¡å™¨é…ç½®"
```

#### ç”Ÿäº§éƒ¨ç½²
```python
# å¯¼å…¥å¼€å‘é…ç½®
manage_mcp_resource_persistence("import", "dev_config.json")

# é‡å»ºæœåŠ¡å™¨
create_server_pool([...])  # æ ¹æ®å¯¼å…¥çš„é…ç½®

# æˆ–é€šè¿‡MCPèµ„æºè·å–SSHé…ç½®
"ä» mcp://feedback-server/config/ssh è·å–SSHè½¬å‘å‘½ä»¤"
```

#### æ•…éšœæ¢å¤
```python
# ç³»ç»Ÿå¼‚å¸¸åæ£€æŸ¥çŠ¶æ€
get_server_status()

# æ¸…ç†æ— æ•ˆæœåŠ¡å™¨
manage_mcp_resource_persistence("clean")

# ä»å¤‡ä»½æ¢å¤ï¼ˆå¦‚éœ€è¦ï¼‰
manage_mcp_resource_persistence("restore", "backup_file.json")

# æˆ–é€šè¿‡MCPèµ„æºæŒç»­ç›‘æ§
"å®šæœŸæ£€æŸ¥ mcp://feedback-server/status çš„æœåŠ¡å™¨çŠ¶æ€"
```

## âš™ï¸ é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡
```bash
# æµè§ˆå™¨è¿æ¥å®½é™æœŸï¼ˆé»˜è®¤15ç§’ï¼‰
export MCP_BROWSER_GRACE_PERIOD=20

# é»˜è®¤è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤300ç§’ï¼‰
export MCP_DEFAULT_TIMEOUT=180

# é¦–é€‰è¿œç¨‹ç«¯å£ï¼ˆé»˜è®¤8765ï¼‰
export MCP_FEEDBACK_PREFERRED_PORT=9000

# æ¨èæœ¬åœ°è½¬å‘ç«¯å£ï¼ˆé»˜è®¤8888ï¼‰
export MCP_FEEDBACK_LOCAL_FORWARD_PORT=9888
```

### è¶…æ—¶æ—¶é—´è®¾ç½®
- **å›¾ç‰‡é€‰æ‹©**: 120ç§’ï¼ˆ2åˆ†é’Ÿï¼‰
- **æ–‡å­—åé¦ˆ**: 300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰  
- **è‡ªå®šä¹‰**: é€šè¿‡ `timeout_seconds` å‚æ•°è®¾ç½®

## ğŸ› ï¸ æ•…éšœæ’é™¤

### 1. æ‰¾ä¸åˆ°æœåŠ¡å™¨ç«¯å£
```bash
# ä½¿ç”¨ç‹¬ç«‹çŠ¶æ€æŸ¥çœ‹å™¨
python3 mcp_server_status.py

# æˆ–ä½¿ç”¨è½»é‡çº§MCPå·¥å…·
list_server_ports()

# æˆ–ä½¿ç”¨æŒä¹…åŒ–èµ„æºæŸ¥çœ‹
get_server_status()

# æˆ–ç›´æ¥è®¿é—®MCPèµ„æºï¼ˆæ¨èï¼‰
"è®¿é—® mcp://feedback-server/ports è·å–æ´»è·ƒç«¯å£"
```

### 2. MCPå·¥å…·å¡ä½æˆ–å¼‚å¸¸
```python
# ä½¿ç”¨æŒä¹…åŒ–èµ„æºæŸ¥çœ‹ï¼ˆä¸ä¾èµ–è¿è¡Œæ—¶çŠ¶æ€ï¼‰
get_server_status()

# ä»æŒä¹…åŒ–æ–‡ä»¶éªŒè¯çŠ¶æ€
manage_mcp_resource_persistence("load")

# æˆ–ç›´æ¥è®¿é—®MCPèµ„æºï¼ˆæœ€å¯é ï¼‰
"è®¿é—® mcp://feedback-server/status è·å–å®Œæ•´çŠ¶æ€ä¿¡æ¯"
```

### 3. ç«¯å£è¢«å ç”¨
- ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£
- ç¬¬ä¸€ä¸ªæœåŠ¡å™¨é€šå¸¸ä½¿ç”¨8765
- åç»­æœåŠ¡å™¨ä½¿ç”¨8766ã€8767ç­‰

### 4. SSHè½¬å‘å¤±è´¥
```bash
# æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
curl http://127.0.0.1:8765/ping

# æµ‹è¯•SSHè¿æ¥
ssh -v your_user@your_server

# æˆ–é€šè¿‡MCPèµ„æºè·å–æ­£ç¡®çš„SSHå‘½ä»¤
"ä» mcp://feedback-server/config/ssh è·å–SSHè½¬å‘å‘½ä»¤"
```

### 5. æµè§ˆå™¨æ— æ³•è®¿é—®
- ç¡®è®¤SSHè½¬å‘å‘½ä»¤æ­£ç¡®æ‰§è¡Œ
- æ£€æŸ¥æœ¬åœ°ç«¯å£æ˜¯å¦è¢«å ç”¨
- å°è¯•ä½¿ç”¨ä¸åŒçš„æœ¬åœ°ç«¯å£

### 6. çŠ¶æ€æ–‡ä»¶æŸå
```python
# éªŒè¯çŠ¶æ€æ–‡ä»¶
manage_mcp_resource_persistence("load")

# æ¸…ç†æ— æ•ˆæ•°æ®
manage_mcp_resource_persistence("clean")

# ä»å¤‡ä»½æ¢å¤
manage_mcp_resource_persistence("restore", "backup_file.json")

# æˆ–æ£€æŸ¥å¤‡ä»½æ–‡ä»¶ä¿¡æ¯
"è®¿é—® mcp://feedback-server/config/backup æŸ¥çœ‹å¤‡ä»½çŠ¶æ€"
```

## ğŸ’¡ æœ€ä½³å®è·µ

### å¼€å‘é˜¶æ®µ
1. **çŠ¶æ€ç®¡ç†**: å®šæœŸä½¿ç”¨ `manage_mcp_resource_persistence("save")` ä¿å­˜çŠ¶æ€
2. **é…ç½®å¤‡ä»½**: é‡è¦é…ç½®ä½¿ç”¨ `backup` æ“ä½œåˆ›å»ºå¤‡ä»½
3. **å¼€å‘åä½œ**: ä½¿ç”¨ `export/import` åŠŸèƒ½åˆ†äº«é…ç½®
4. **MCPèµ„æº**: ä¼˜å…ˆä½¿ç”¨æ ‡å‡†MCPèµ„æºè®¿é—®çŠ¶æ€ä¿¡æ¯

### ç”Ÿäº§ç¯å¢ƒ
1. **ç«¯å£æŸ¥è¯¢**: ä¼˜å…ˆä½¿ç”¨ `list_server_ports()` è·å–ç«¯å£ä¿¡æ¯
2. **çŠ¶æ€ç›‘æ§**: ä½¿ç”¨ç‹¬ç«‹å‘½ä»¤è¡Œå·¥å…· `mcp_server_status.py`
3. **æ•…éšœæ¢å¤**: å»ºç«‹å®šæœŸå¤‡ä»½æœºåˆ¶
4. **èµ„æºç›‘æ§**: é€šè¿‡MCPèµ„æºè¿›è¡Œç³»ç»Ÿç›‘æ§

### å›¢é˜Ÿåä½œ
1. **é…ç½®æ ‡å‡†åŒ–**: ä½¿ç”¨å¯¼å‡º/å¯¼å…¥åŠŸèƒ½ç»Ÿä¸€é…ç½®
2. **ç‰ˆæœ¬æ§åˆ¶**: å°†é…ç½®æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶
3. **ç¯å¢ƒåŒæ­¥**: ä½¿ç”¨ç›¸åŒçš„é…ç½®æ–‡ä»¶éƒ¨ç½²å¼€å‘/æµ‹è¯•ç¯å¢ƒ
4. **èµ„æºå…±äº«**: å›¢é˜Ÿæˆå‘˜å¯é€šè¿‡MCPèµ„æºURIå…±äº«çŠ¶æ€

### MCPèµ„æºç®¡ç†
1. **æŒä¹…åŒ–ä¼˜å…ˆ**: åˆ©ç”¨æŒä¹…åŒ–åŠŸèƒ½å‡å°‘å¯¹å®æ—¶å·¥å…·çš„ä¾èµ–
2. **å®šæœŸæ¸…ç†**: ä½¿ç”¨ `clean` æ“ä½œæ¸…ç†æ— æ•ˆæ•°æ®
3. **å¤‡ä»½ç­–ç•¥**: é‡è¦å·¥ä½œå‰åˆ›å»ºå¤‡ä»½
4. **æ ‡å‡†åŒ–è®¿é—®**: ä¼˜å…ˆä½¿ç”¨MCP Resourcesè€Œéä¼ ç»Ÿå·¥å…·è°ƒç”¨

### èµ„æºè®¿é—®ç­–ç•¥
1. **æ€§èƒ½ä¼˜åŒ–**: MCP Resourcesæ”¯æŒå®¢æˆ·ç«¯ç¼“å­˜ï¼Œå‡å°‘é‡å¤æŸ¥è¯¢
2. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„èµ„æºæ ¼å¼ä¾¿äºé”™è¯¯è¯Šæ–­
3. **æ‰©å±•æ€§**: æ–°å¢èµ„æºç±»å‹æ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç 
4. **å…¼å®¹æ€§**: åŒæ—¶æ”¯æŒä¼ ç»Ÿå·¥å…·å’Œæ ‡å‡†èµ„æºè®¿é—®

## ğŸ“„ çŠ¶æ€æ–‡ä»¶

### è‡ªåŠ¨ç»´æŠ¤æ–‡ä»¶
- **ä¸»çŠ¶æ€æ–‡ä»¶**: `.mcp_server_pool_status.json`
- **å¤‡ä»½æ–‡ä»¶**: `mcp_status_backup_*.json`
- **é…ç½®å¯¼å‡º**: `mcp_config_export_*.json`

### æ–‡ä»¶å†…å®¹
```json
{
  "mcp_resource_type": "server_pool_status",
  "total_servers": 1,
  "active_servers": 1,
  "ports_in_use": [8765],
  "servers": [
    {
      "session_id": "test_server",
      "port": 8765,
      "status": "running",
      "work_summary": "è½»é‡çº§çŠ¶æ€æµ‹è¯•",
      "timeout_seconds": 300,
      "url": "http://127.0.0.1:8765"
    }
  ],
  "last_updated": 1749609556.8380816,
  "last_updated_readable": "2025-06-11 10:39:16"
}
```

### MCPèµ„æºURIåˆ—è¡¨

#### æ ¸å¿ƒèµ„æº
- `mcp://feedback-server/status` - å®Œæ•´æœåŠ¡å™¨çŠ¶æ€
- `mcp://feedback-server/ports` - æ´»è·ƒç«¯å£åˆ—è¡¨

#### é…ç½®èµ„æºï¼ˆåŠ¨æ€æ¨¡æ¿ï¼‰
- `mcp://feedback-server/config/server` - æœåŠ¡å™¨é…ç½®å‚æ•°
- `mcp://feedback-server/config/ssh` - SSHè½¬å‘é…ç½®
- `mcp://feedback-server/config/backup` - å¤‡ä»½æ–‡ä»¶ç®¡ç†

#### èµ„æºç‰¹æ€§
- **æŒä¹…åŒ–**: æ‰€æœ‰èµ„æºéƒ½åŸºäºæŒä¹…åŒ–æ–‡ä»¶ï¼Œç¡®ä¿è·¨ä¼šè¯è®¿é—®
- **å®æ—¶æ€§**: èµ„æºå†…å®¹åæ˜ å½“å‰å®é™…çŠ¶æ€
- **æ ‡å‡†åŒ–**: ç¬¦åˆMCPåè®®ï¼Œå¯è¢«ä»»ä½•MCPå®¢æˆ·ç«¯è®¿é—®
- **ç¼“å­˜å‹å¥½**: å®¢æˆ·ç«¯å¯ä»¥å®‰å…¨ç¼“å­˜èµ„æºå†…å®¹

### æŒä¹…åŒ–ä¼˜åŠ¿
- **è·¨ä¼šè¯è®¿é—®**: MCPå·¥å…·é‡å¯åä»å¯è®¿é—®å†å²çŠ¶æ€
- **æ•…éšœæ¢å¤**: ç³»ç»Ÿå¼‚å¸¸åå¯å¿«é€Ÿæ¢å¤æœåŠ¡å™¨ä¿¡æ¯
- **å¤šå®¢æˆ·ç«¯å…±äº«**: å¤šä¸ªMCPå®¢æˆ·ç«¯å¯å…±äº«çŠ¶æ€ä¿¡æ¯
- **ç¦»çº¿æŸ¥è¯¢**: å³ä½¿æœåŠ¡å™¨åœæ­¢ï¼Œä»å¯æŸ¥çœ‹å†å²é…ç½®
- **æ ‡å‡†å…¼å®¹**: ç¬¦åˆMCP Resourcesæ ‡å‡†ï¼Œæä¾›ç»Ÿä¸€è®¿é—®æ¥å£

æ­¤æ–‡ä»¶å¯ç”¨äºæ•…éšœæ¢å¤å’ŒçŠ¶æ€æŒä¹…åŒ–ï¼Œæ˜¯MCPèµ„æºç®¡ç†çš„æ ¸å¿ƒç»„ä»¶ã€‚é€šè¿‡æ ‡å‡†åŒ–çš„MCP Resourcesæ¥å£ï¼Œä¸ºLLMå’Œå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæä¾›äº†å¼ºå¤§çš„åªè¯»æ•°æ®è®¿é—®èƒ½åŠ›ã€‚ 